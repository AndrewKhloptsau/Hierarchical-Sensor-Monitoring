@using HSMServer.Helpers
@model HSMServer.Model.ViewModel.NodeViewModel

<div class='col' id='list'>
    <div>@(Model == null ? "No data" : Model.Name)</div>
    @*<div id='list_sensors_header' style='display: none;'>
            <h5 style='margin: 0px 20px 10px;'>Sensors</h5>
        </div>

        <div style='width: 800px'>
            <ul id='noData' class='list-group'>
                <li class='list-group-item'>No Data</li>
            </ul>
        </div>*@

    @*@if (Model != null)
        @foreach (var (_, node) in Model.Nodes)
        {*@

    @if (Model?.Sensors != null && !Model.Sensors.IsEmpty)
    {
        @foreach (var s in Model.Sensors)
        {
            <div>@s.Value.Name</div>
        }
        <div id='list_@SensorPathHelper.Encode(Model.Path)' @*style='display: none;'*@>
            @foreach (var (name, sensor) in Model.Sensors)
            {
                <div id='sensorInfo_parent_@SensorPathHelper.Encode($"{Model.Path}/{name}")' @*style='display: none'*@>
                    <a tabindex='0' class='link-primary info-link' id='sensorInfo_link_@SensorPathHelper.Encode($"{Model.Path}/{name}")'>Show meta info</a>
                    <div id=sensor_info_@SensorPathHelper.Encode($"{Model.Path}/{name}") />
                </div>
                <div class='accordion' id='sensorData_@SensorPathHelper.Encode($"{Model.Path}/{name}")' @*style='display: none' *@>

                </div>
            }
        </div>
    }
    @*}*@
</div>
